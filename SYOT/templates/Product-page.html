{% extends 'base.html' %}
{% load staticfiles %}

{% block addcssjs %}

    <link rel="stylesheet" type="text/css" href="{% static 'css/product-page.css' %}">

{% endblock %}

{% block content %}
<style>
.modalimg.hide{
    display: none;
}
.modalimg {
    margin-top: 50px;
    display: block; /* Hidden by default */
    position: fixed; /* Stay in place */
    z-index: 1; /* Sit on top */
    padding-top: 30px; /* Location of the box */
    left: 0;
    top: 0;
    width: 100%; /* Full width */
    height: 100%; /* Full height */
    overflow: auto; /* Enable scroll if needed */
    background-color: rgb(0,0,0); /* Fallback color */
    background-color: rgba(0,0,0,0.9); /* Black w/ opacity */
}

/* The Close Button */
.closebtn {
    margin-top: inherit;
    position: absolute;
    top: 15px;
    right: 35px;
    color: #f1f1f1;
    font-size: 40px;
    font-weight: bold;
    transition: 0.3s;
}
.alert {
    padding: 20px;
    background-color: #f44336;
    color: white;
}

.closebtn {
    margin-left: 15px;
    color: white;
    font-weight: bold;
    float: right;
    font-size: 22px;
    line-height: 20px;
    cursor: pointer;
    transition: 0.3s;
}

.closebtn:hover {
    color: black;
}
</style>
<!-- <h1>{{ product.name }}</h1> -->
  <hr>
  <!-- Product section-->

  <div class="productSection">

    <div class="container" id="product">
    	<div class="row" id="product">
    		<div class="col-md-6">
    			<div class="row" id="picture-product">
    				<div class="col-md-3" id="sub-model-picture">
    					<img id="sub-model-1" src="{{ getProduct.pictureUrl1.url }}">
    					<img id="sub-model-2" src="{{ getProduct.pictureUrl2.url }}">
    					<img id="sub-model-3" src="{{ getProduct.pictureUrl3.url }}">
    					<img id="sub-model-4" src="{{ getProduct.pictureUrl4.url }}">
    				</div>
    				<div class="col-md-6">
    					<img id="front-model" src="{{ getProduct.pictureUrl.url }}">
  				</div>
          <!-- The Modal -->
            <div id="myModalimg" class="modalimg hide">
                <!-- The Close Button -->
                <button class="close" id="closebtn">&times;</button>
                <!-- Modal Content (The Image) -->
                <img class="modal-content" id="img01">
                <!-- Modal Caption (Image Text) -->
                <div id="caption"></div>
            </div>
    			</div>
    		</div>
    		<div class="col-md-5" id="details-product">
    			<h3><b>{{ getProduct.name }} </b></h3>
    			<!-- <h6>GUARDIANS OF THE GALAXY</h6> -->
            {% if getProduct.catagory %}
              {% for catagory in getProduct.catagory.all %}
                <h6><b>Catagory : {{ catagory.name }}</b></h6>
              {% endfor %}
            {% endif %}
    			<br>
    			<div class="row">
    				<div class="col-md-6">
    					<h4>{{ getProduct.cost }} USD</h4>
    				</div>
    				<div class="col-md-6">
              {% if getProduct.point > 4.5 %}
    					<i class="fa fa-star" id="review-star" aria-hidden="true"></i>
              {% endif %}
              {% if getProduct.point > 3.5 %}
    					<i class="fa fa-star" id="review-star" aria-hidden="true"></i>
              {% endif %}
              {% if getProduct.point > 2.5  %}
    					<i class="fa fa-star" id="review-star" aria-hidden="true"></i>
              {% endif %}
              {% if getProduct.point > 1.5 %}
    					<i class="fa fa-star" id="review-star" aria-hidden="true"></i>
              {% endif %}
              {% if getProduct.point > 0.5 %}
    					<i class="fa fa-star" id="review-star" aria-hidden="true"></i>
              {% endif %}
              {% if getProduct.point <= 0.5 %}
              <div style="color:black; opacity:0.2;">
                <i class="fa fa-star" id="review-star" aria-hidden="true"></i>
                <i class="fa fa-star" id="review-star" aria-hidden="true"></i>
                <i class="fa fa-star" id="review-star" aria-hidden="true"></i>
                <i class="fa fa-star" id="review-star" aria-hidden="true"></i>
                <i class="fa fa-star" id="review-star" aria-hidden="true"></i>
              </div>
              {% endif %}
    				</div>
    			</div>
    			<hr>
    			<p id="details-product">
            <br>
            {{ getProduct.description}}
    				<!-- “Groot!  Get out of the way, you’re gonna get hurt…Hi!”<br><br>
    				Somebody has to look after him! Sideshow in partnership with Legacy Effects is proud to present the definitive Baby Groot Maquette, sprouting right from the work of the film-makers to your Marvel collection. <br><br>
    				Expected to Ship : Jan 2018 - Feb 2018 -->
    				<br>
            <br>
    				Product Size : {{ getProduct.height }}" H x {{ getProduct.width }}" W x {{ getProduct.length }}" L*<br>
    				<!-- Product Weight : 2.50 lbs (1.13 kg)*<br>
    				Dimensional Weight : TBD <br>
    				Int'l Dim. Weight : TBD -->
    			</p><br>
    			<div class="row">
                  <form id="cart-form" cart-url="{% url 'addtocart' %}" product_id="{{ getProduct.id }}" user_id="{{  request.session.user_id }}" method="post"> {% csrf_token %}
                		<div class="col-md-5" id="div-icon-cart">
        					<a id="icon-cart-product" class="nav-link" href='#' onclick='document.forms["cart-form"].submit(); return false;'><i class="fa fa-shopping-cart fa-2x" aria-hidden="true"></i></a>
        				</div>
                  </form>

                  <form id="fav-form" fav-url="{% url 'addtofav' %}" product_id="{{ getProduct.id }}" user_id="{{  request.session.user_id }}" method="post"> {% csrf_token %}
                    	<div class="col-md-2" id="div-icon-fav">
        					<a id="icon-fav-product" class="nav-link" href="#" onclick='document.forms["fav-form"].submit(); return false;'><i class="fa fa-heart fa-2x" aria-hidden="true"></i></a>
        				</div>
                  </form>
    			</div>
    		</div>
    	</div>
    </div>
  </div>

  <!--Product Review section -->

  {% if err %}
  <div class="alert">

    <strong>Warning!</strong> {{ err }}
    <span class="closebtn" onclick="this.parentElement.style.display='none';">&times;</span>
  </div>
  {% endif %}

  <div class="row" id="review-section">
      <div class="col-md-2">
        <h3><b>REVIEW</b></h3>
      </div>
    </div>
    {% for rev in reviews %}
    {% if rev.proId == getProduct.id %}
    <hr id="line-review-section">
    <div class="row" id="commend-review">

      <div id="text-review" class="col-md-6">
        <h7><b>{{ rev.userName }}</b></h7>
        <br>
        <p id="text-review">{{ rev.comment }}</p>
      </div>
      <div class="col-md-3" style="padding-top:20px">
        {% if rev.point > 4 %}
        <i class="fa fa-star" id="review-star" aria-hidden="true"></i>
        {% endif %}
        {% if rev.point > 3 %}
        <i class="fa fa-star" id="review-star" aria-hidden="true"></i>
        {% endif %}
        {% if rev.point > 2 %}
        <i class="fa fa-star" id="review-star" aria-hidden="true"></i>
        {% endif %}
        {% if rev.point > 1 %}
        <i class="fa fa-star" id="review-star" aria-hidden="true"></i>
        {% endif %}
        {% if rev.point > 0 %}
        <i class="fa fa-star" id="review-star" aria-hidden="true"></i>
        {% endif %}
      </div>
    </div>
    {% endif %}
    {% endfor %}
    <form action="{% url 'detail' getProduct.id %}" method="POST">
      {% csrf_token %}
      <div class="form-review">
        <textarea class="form-control" id="review" name="review"></textarea>
        <br>
        <h6>GET STAR FOR MY PRODUCT</h6>
        <fieldset class="rating">
          <input type="radio" id="star5" name="rating" value="5" /><label class = "full" for="star5" title="Awesome - 5 stars"></label>

          <input type="radio" id="star4" name="rating" value="4" /><label class = "full" for="star4" title="Pretty good - 4 stars"></label>

          <input type="radio" id="star3" name="rating" value="3" /><label class = "full" for="star3" title="Meh - 3 stars"></label>

          <input type="radio" id="star2" name="rating" value="2" /><label class = "full" for="star2" title="Kinda bad - 2 stars"></label>

          <input type="radio" id="star1" name="rating" value="1" /><label class = "full" for="star1" title="Sucks big time - 1 star"></label>
        </fieldset>
        <button type="submit" class="btn btn-outline-dark">Submit</button>
      </div>
    </form>
<script src="{% static 'js/addto.js' %}"></script>
<script src="{% static 'js/clicktozoom.js' %}"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>


{% endblock %}
